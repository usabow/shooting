<!DOCTYPE html>
<html>
    <head>
        <meta charset = "utf-8">
        <title>エイム練習</title>
        <style>
            *{margin:0px;padding:0px;}
            div{
                background-color:black;
                width:19px;
                height:19px;
            }
            #box1{border-radius:50%;}
            #box2{border-radius:20%;}
        </style>
    </head>
    <p id = "time1">●を狙え！！</p>
    <body>
        <p><audio id = "drow" src = "drow.mp3"></audio></p>
        <p><audio id = "shakin" src = "shakin.mp3"></audio></p>
        <div id = "box1" onclick = "hit();"></div>
        <script>
        let flag = 1;
        let correct = 0;
        const time1 = document.getElementById("time1");
        const BOX1 = document.getElementById("box1");
        const now = new Date();
        let start = now.getTime();
        function next(){
            if(correct <= 9){
                drow.play();
                let cpuX = Math.floor(Math.random()*1200+10);
                let cpuY = Math.floor(Math.random()*600+10);
                BOX1.style.transform = "translate("+(cpuX-10)+"px,"+(cpuY-10)+"px)";
                BOX1.style.height = (19 - correct) + "px";
                BOX1.style.width = (19 - correct) + "px";
            }else if(flag === 1){
                const now = new Date();
                let finish = now.getTime();
                shakin.play();
                time1.innerHTML = "結果は" + (finish - start) / 1000 + "秒でした！";
                flag = 0;
            }
        }
        function hit(){
            correct++;
            next();
        }
        </script>
    </body>
</html>